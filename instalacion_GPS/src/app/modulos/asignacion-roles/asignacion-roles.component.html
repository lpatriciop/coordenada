<div class="center">

      <mat-card-title class="mediat">Lista Usuarios</mat-card-title>
      <button class="btn btn-success btncrear" [routerLink]="['/registrousuario']">Crear Usuarios</button>



  <div class="mat-elevation-z8 center">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 " #tabla2>

      <ng-container matColumnDef="id">
        <th class="titulo" mat-header-cell *matHeaderCellDef> ID </th>
        <td class="textmedia" mat-cell *matCellDef="let UsersVs"> {{UsersVs.id_persona}} </td>
      </ng-container>


      <ng-container matColumnDef="nombre">
        <th class="titulo" mat-header-cell *matHeaderCellDef> Nombres </th>
        <td class="textmedia" mat-cell *matCellDef="let UsersVs"> {{UsersVs.nombre}} </td>
      </ng-container>

      <ng-container  matColumnDef="correo">
        <th class="titulo media1" mat-header-cell *matHeaderCellDef> Correo</th>
        <td class="media1" mat-cell *matCellDef="let UsersVs"> {{UsersVs.correo}} </td>
      </ng-container>

      <ng-container  matColumnDef="rol_us">
        <th class="titulo media1" mat-header-cell *matHeaderCellDef>Rol</th>
        <td class="media1" mat-cell *matCellDef="let UsersVs"> {{obtenerRol(UsersVs.roles)}}<span *ngFor="let r of ListadoR">{{r.rolNombre}}
          <br></span></td>
      </ng-container>

      <ng-container  matColumnDef="estado">
        <th class="titulo media1" mat-header-cell *matHeaderCellDef> Estado</th>
        <td class="media1" mat-cell *matCellDef="let UsersVs"> {{UsersVs.estado}} </td>
      </ng-container>

      <ng-container matColumnDef="editar">
        <th class="titulo" mat-header-cell *matHeaderCellDef> Editar </th>
        <td mat-cell *matCellDef="let UsersVs"><button [routerLink]="['/dar/roles/',UsersVs.id_persona]"><mat-icon class="btnEdi">edit</mat-icon></button></td>
      </ng-container>

      <ng-container matColumnDef="eliminar">
        <th class="titulo" mat-header-cell *matHeaderCellDef> Eliminar </th>
        <td mat-cell *matCellDef="let UsersVs">
          <button (click)="eliminar(UsersVs.id_persona)" *ngIf="UsersVs.estado=='Activo'"><mat-icon class="btnEli">delete</mat-icon></button>
          <button (click)="activar(UsersVs.id_persona)" *ngIf="UsersVs.estado=='Inactivo'"><mat-icon class="btnEdi">how_to_reg</mat-icon></button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
  </div>
  <!--------tabla para lista de roles--------->
  <mat-card-title class="mediat">Lista Roles</mat-card-title>
  <div class="mat-elevation-z8 center">

    <table mat-table [dataSource]="dataSourceRol" class="mat-elevation-z8 " #tabla2>

      <ng-container matColumnDef="id">
        <th class="titulo" mat-header-cell *matHeaderCellDef> ID </th>
        <td class="textmedia" mat-cell *matCellDef="let rols"> {{rols.id}} </td>
      </ng-container>


      <ng-container matColumnDef="nombre">
        <th class="titulo" mat-header-cell *matHeaderCellDef> Nombre </th>
        <td class="textmedia" mat-cell *matCellDef="let rols"> {{rols.rolNombre}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnasPlan"></tr>
      <tr mat-row *matRowDef="let row; columns: columnasPlan;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
  </div>


<!--------Dialog para crear  roles--------->
  <ng-template #dialogRol >
    <h2> {{titulo}} </h2>
    <mat-form-field>
      <input matInput placeholder="Nombre" name="rol" [(ngModel)]="rol.rolNombre" required/>
    </mat-form-field>
    <br>
    <br>
    <button mat-button mat-dialog-close>Cancelar</button>
    <button mat-button mat-dialog-close  (click)="crearRol()" *ngIf="creating">Guardar</button>

  </ng-template>


</div>
